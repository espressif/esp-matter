helper
======

这里主要介绍现阶段支持到部分命令，包括系统命令和用户命令，当然有的命令板子不一定支持，可以通过\ ``help``\ 查看其支持到命令，更多的命令请参考源码或者自行添加

cli 命令表
----------

-  **系统命令**

+-----------+---------------------+
| name      | help                |
+===========+=====================+
| help      | print this          |
+-----------+---------------------+
| p         | print memory        |
+-----------+---------------------+
| m         | modify memory       |
+-----------+---------------------+
| echo      | echo for command    |
+-----------+---------------------+
| exit      | close CLI           |
+-----------+---------------------+
| devname   | print device name   |
+-----------+---------------------+
| sysver    | system version      |
+-----------+---------------------+
| reboot    | reboot system       |
+-----------+---------------------+
| poweroff  | poweroff system     |
+-----------+---------------------+
| time      | system time         |
+-----------+---------------------+
| ota       | system ota          |
+-----------+---------------------+
| ls        | thread dump         |
+-----------+---------------------+

-  **用户命令**

+-------------------------+-----------------------------------------------------+
| name                    | help                                                |
+=========================+=====================================================+
| test\_trng              | Test TRNG                                           |
+-------------------------+-----------------------------------------------------+
| tcpc                    | create a tcpc for in a new task                     |
+-------------------------+-----------------------------------------------------+
| ipc                     | iperf TCP client                                    |
+-------------------------+-----------------------------------------------------+
| ips                     | iperf TCP server                                    |
+-------------------------+-----------------------------------------------------+
| ipu                     | iperf UDP client                                    |
+-------------------------+-----------------------------------------------------+
| psm\_set                | psm set                                             |
+-------------------------+-----------------------------------------------------+
| psm\_unset              | psm unset                                           |
+-------------------------+-----------------------------------------------------+
| psm\_get                | psm get                                             |
+-------------------------+-----------------------------------------------------+
| psm\_dump               | psm dump                                            |
+-------------------------+-----------------------------------------------------+
| psm\_erase              | psm dump                                            |
+-------------------------+-----------------------------------------------------+
| amr                     | amr encode test                                     |
+-------------------------+-----------------------------------------------------+
| test\_sdh               | test SDH based on fatfs                             |
+-------------------------+-----------------------------------------------------+
| http                    | http client download test                           |
+-------------------------+-----------------------------------------------------+
| mjpeg\_start            | start mjpeg tasks                                   |
+-------------------------+-----------------------------------------------------+
| msg\_set                | message set                                         |
+-------------------------+-----------------------------------------------------+
| msg\_get                | message get                                         |
+-------------------------+-----------------------------------------------------+
| msg\_dump               | message dump                                        |
+-------------------------+-----------------------------------------------------+
| msg\_reset              | erase all message regions                           |
+-------------------------+-----------------------------------------------------+
| msg\_set\_t1            | message set test 1                                  |
+-------------------------+-----------------------------------------------------+
| rf\_dump                | rf dump                                             |
+-------------------------+-----------------------------------------------------+
| wifi\_ap\_start         | start AP mode                                       |
+-------------------------+-----------------------------------------------------+
| wifi\_scan              | wifi scan                                           |
+-------------------------+-----------------------------------------------------+
| wifi\_mon               | wifi monitor                                        |
+-------------------------+-----------------------------------------------------+
| wifi\_raw\_send: wifi   | raw send test                                       |
+-------------------------+-----------------------------------------------------+
| wifi\_sta\_disconnect   | wifi station disconnect                             |
+-------------------------+-----------------------------------------------------+
| wifi\_sta\_connect      | wifi station connect                                |
+-------------------------+-----------------------------------------------------+
| airkiss                 | airkiss                                             |
+-------------------------+-----------------------------------------------------+
| rc\_fix\_en             | wifi rate control fixed rate enable                 |
+-------------------------+-----------------------------------------------------+
| rc\_fix\_dis            | wifi rate control fixed rate diable                 |
+-------------------------+-----------------------------------------------------+
| wifi\_capcode           | capcode utils, wifi\_capcode [cap\_in] [cap\_out]   |
+-------------------------+-----------------------------------------------------+
| blfdt                   | blfdt                                               |
+-------------------------+-----------------------------------------------------+
| tc\_uart                | bl test uart                                        |
+-------------------------+-----------------------------------------------------+
| audio\_play\_ram        | play sound fm ram                                   |
+-------------------------+-----------------------------------------------------+
| audio\_config\_es8311   | config ES831                                        |
+-------------------------+-----------------------------------------------------+
| audio\_mp3              | play sou mp3                                        |
+-------------------------+-----------------------------------------------------+
| audio\_test             | play test                                           |
+-------------------------+-----------------------------------------------------+
| audio\_play             | audio play                                          |
+-------------------------+-----------------------------------------------------+

常用命令
--------

-  **查看支持的所有命令**

   可以通过按键\ ``TAB``\ 查看，或者命令输入\ ``help``\ 如下：

   **#** ``help``

-  **配置wifi的临时ssid和passwd（重启恢复使用默认值）**

   例如配置wifi:\ ``bl_wifi_005``\ 和密码:\ ``123456789``
   命令行输入如下命令：

   **#** ``wifi_sta_connect bl_wifi_005 123456789``

-  **配置wifi的默认ssid和passwd**

   例如配置wifi:\ ``bl_wifi_005``\ 和密码:\ ``123456789``
   命令行输入如下命令：

   **#** ``psm_set conf_ap_ssid bl_wifi_005``

   **#** ``psm_set conf_ap_psk 123456789``

-  **启动AP**

   使用\ ``wifi_ap_start``\ 命令可以启动AP，但使用前需要使用\ ``psm_erase``\ 擦除STA相关配置信息并重启。启动的AP
   SSID为\ ``BL60X_uAP_``\ 加上MAC地址的后3三个字节的HEX串，密码为\ ``bouffalolab``

-  **系统重启**

   **#** ``reboot``

-  **播音与录音**

   该模块需要硬件有SD卡支持，暂时仅支持 pcm 格式文件，其他格式待更新

   -  配置音频的采样频率

      **#** audio\_config 11p025

      如果没有参数，默认使用16Khz，支持
      8k、16k、24k、32k、48k、11p025、22p05、44p1
      采样频率(11.025khz用11p025表示，其他类似)，例如这里配置采样频率为
      11.025Khz

   -  录音

      **#** audio\_record test.pcm

      如果没有参数，默认录音放在sd卡根目录中，录音文件名record.pcm，这里配置文件名test.pcm，即存放在在根目录test.pcm文件中，同时默认录音10S左右

   -  放音

      **#** audio\_play test.pcm

      如果没有参数，默认使用sd卡根目录中，录音文件名record.pcm，这里配置文件名test.pcm，即播放SD卡中的test.pcm音频

-  **图传**

   使用\ ``mjpeg_start``\ 命令可以启动图传的相关任务

-  **保存图片至SD卡**

   该模块需要硬件有SD卡支持，暂时仅支持 jpeg 格式文件，其他格式待更新

   -  配置mjpeg图片的quality

      **#** mjpegsd\_config 50

      暂时支持6种 quality 5、10、25、50、75、100

   -  启动保存图片

      **#** mjpegsd\_start

      启动保存图片，默认保存50帧数据

   -  **注意**

      -  如上，示例命令，会在SD卡根目录保存50张
         0.jpeg、1.jpeg...49.jpeg图片

-  **保存AVI至SD卡**

   该模块需要硬件有SD卡支持，暂时仅支持 AIV 格式文件，其他格式待更新

   -  配置mjpeg图片的quality

      **#** avisd\_config 50 bl\_avi\_q50.avi

      暂时支持6种 quality 5、10、25、50、75、100

   -  启动保存avi

      **#** avisd\_start

      启动保存avi，默认保存750帧图片

   -  **注意**

      -  如上，示例命令，会在SD卡根目录保存一个"bl\_avi\_q50.avi"文件

      -  内存卡建议格式化为分配单元64KB，文件系统FAT32

      -  avisd\_start之后，如果想修改quality，需重启一下开发板

      -  该模块需要有psram、camera支持，需要开启使能PSRAM、camera相关开关

-  **二维码配网**

   该模块是通过手机分享热点的二维码连接WiFi

   -  启动命令

      ``qrcode_connect_wifi``

      输入命令后摄像头会初始化然后开始循环识别二维码

   -  **注意**

      -  成功识别的到二维码后，会先打印二维码信息，如果不是分享热点的二维码会继续扫描

      -  支持SSID为中文，但是要求unicode编码规则为UTF-8

      -  支持开放热点

      -  该模块需要psram、camera支持，需要开启使能PSRAM、camera相关开关


